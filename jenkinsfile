properties([parameters([choice(choices: ['Patch','Minor','Major'], description: 'Third stage meassage', name: 'Patch' )])])
pipeline{
  agent any
   environment {
    DOCKERHUB_CREDENTIALS=credentials('dockerhub')
  }
  stages{
        stage('Build'){
            steps{
              script{
		   def version = readFile('patch')
                     echo "${version}"
                     sh "docker build . -t nadeem90/test-image:${version}"
                }    
  
           }
        }
    
   //stage('Trigger ManifestUpdate') {
		//steps{
                //echo "triggering updatemanifestjob"
                //build job: 'updatepatch-file', parameters: [string(name: 'DOCKERTAG', value: env.flage)]
			//}
        //}
    
    
    
     }  
}
